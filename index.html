<html>
  <head>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
      <script src="/socket.io/socket.io.js"></script>
  </head>
  <body>
      <script>
          $(document).ready(function(){

              var socket = io.connect();

              var sendMessage = function(sock){
                console.log('event');
                sock.emit('clientnews', {headline: 'Button!'});
                return false;
              };

              $('#testbutt').click(sendMessage(socket));
              $('#clear').click(function(){
                $('#newsfeed').empty();
              });

              socket.on('news', function (data) {
                $('#newsfeed').append($('<p/>',{text:data.headline}));
                //socket.emit('clientnews', {headline: 'Client wins world!' });
              });

          });
    </script>
  </body>
  <div id="buttons">
      <form>
        <button id="clear">Clear</button>
        <button id="testbutt">CLICK ME!</button>
      </form>
  </div>
  <div id="newsfeed">
  </div>
</html>